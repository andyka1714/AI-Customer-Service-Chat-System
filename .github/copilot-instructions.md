# 智能客服對話系統

## 專案概述
本專案為智能客服對話系統，系統包含三大核心模組：

1. 客戶聊天界面：提供直覺且簡易的聊天環境，支援訊息傳送、接收，並即時顯示狀態（如：對方正在輸入、訊息已回覆）。
2. AI助手回覆機制：整合 OpenAI 等 AI 服務，利用 AI 模組自動產生回覆，並實現對話上下文管理，保障對話連貫性。
3. 顧問監控管理平台：結合 WebSocket 實時通訊技術，讓管理顧問能夠即時監控客戶對話，並根據關鍵詞標記的重要內容進行篩選、分頁顯示及內部備註記錄。

該系統強調即時通訊的流暢性與 AI 機器人智能回覆的精準性，並在前端設計上注重用戶體驗與移動端的響應式設計，以滿足現代客服需求。

## 回覆語言需求
- 所有回覆必須使用繁體中文
- 程式碼註解也應使用繁體中文
- 變數名稱和函數名稱保持英文以符合程式碼規範

## 技術框架
- 前端框架：Next.js 15.1.4 + TypeScript
- UI 庫：Tailwind CSS 與 shadcn
- 即時通訊：Supabase Realtime
- AI 服務：OpenAI Chat API

## 程式碼風格指南
- 使用駝峰式命名法 (camelCase)
- 類別名稱使用 PascalCase
- 私有變數以底線 (_) 開頭
- 使用 const/let/型別優化性能
- **所有 TypeScript 型別（type/interface）皆需集中於 types 資料夾內管理，不可分散於各功能檔案**

## 功能開發重點
1. 客戶聊天界面：
   - 設計簡潔直觀的聊天 UI，支援訊息發送與接收
   - 顯示 AI 回覆及對話狀態（如：正在輸入、已回覆等）
   - 良好移動端響應式體驗
2. AI 整合：
   - 使用 OpenAI 或其他 AI 服務 API
   - 實現對話上下文管理，保持對話連貫性
   - **關鍵詞識別功能**：識別並標記包含指定 Amazon 電商關鍵詞的對話
   - 為包含關鍵詞的對話添加特殊標記（顯示於管理界面）
3. 顧問監控管理界面：
   - WebSocket 實時顯示所有進行中客戶對話，並 highlight 重要關鍵詞對話
   - 分頁功能，每頁最多 10 個對話
   - 用戶名稱篩選功能
   - 列表顯示對話中出現的關鍵詞與對話
   - 支援顧問添加內部備註
   - 顯示實時統計數據（活躍對話數、各用戶總對話數、需注意對話數）

## 特定頁面開發指引
- 客戶端與管理端皆需響應式設計
- 關鍵詞標記需明顯易辨識
- 管理端需有分頁與篩選功能

## 套件管理指南
- 安裝新套件時請使用最新穩定版本
- 定期檢查並更新已用套件以確保安全性與最佳性能
- 新增套件前應評估其活躍度、維護狀況與社群支援
- 優先選擇官方支援或廣泛採用的套件